<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>a.t.a.g.i.e.v</title>
    <link rel="stylesheet" href="main.css">
</head>
<body>
    <section>
        <div class="text-auto">
        </div>
    </section>
    <a href="https://www.instagram.com/a.t.a.g.i.e.v/">

        <div class="i"></div>

    </a>

    <script>
        var data = [
            'Salam , xoş gəlmisiz. :)',
            'Yaradıcıqlarımla tanış olmaq istəyirsiz? :)',
            'Elə isə',
            'Şəklin üzərinə basın',
            'və',
            'mənə yazın hahaha',

        ]
        
        var div = document.querySelector('div')
        var root = document.querySelector(':root')
        var initialDataIndex = 0
        var writtingTime = 50
        var delayTime = 500
        var clearingTime = 15
        var caretBlinking = 700

        writeText(initialDataIndex)

        function writeText(index){
            var i = 0
            var interval = setInterval(() => {
                div.innerHTML += data[index][i]
                if(i == data[index].length - 1){
                    i = 0
                    clearInterval(interval)
                    setTimeout(clearText, delayTime)
                }else{
                    i++;
                }
                root.style.setProperty('--caret-display', 'inline-block')
            }, writtingTime);
        }

        var dataIndex = initialDataIndex+1
        function clearText(){
            var interval = setInterval(() => {
                var divData = div.innerHTML
                if(divData !== ''){
                    div.innerHTML = divData.substring(0, divData.length-1)
                    root.style.setProperty('--caret-display', 'inline-block')
                }else{
                    clearInterval(interval)
                    writeText(dataIndex);
                    (dataIndex == data.length-1) ? dataIndex = 0 : dataIndex++
                }
            }, clearingTime);
        }

        setInterval(() => {
            var prop = getComputedStyle(root).getPropertyValue('--caret-display')
            if(prop == 'none'){
                root.style.setProperty('--caret-display', 'inline-block')
            }else{
                root.style.setProperty('--caret-display', 'none')
            }
        }, caretBlinking);
    </script>
</body>
</html>